using Aoc2020.XMAS;
using NUnit.Framework;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Aoc2020.Tests.XMAS {

    [TestFixture]
    public class XMASExploiterTest {

        XMASExploiter exploiter;
        [SetUp]
        public void SetUp() {
            string input = "35 20 15 25 47 40 62 55 65 95 102 117 150 182 127 219 299 277 309 576";
            XMASEncryptedMessage message = new XMASEncryptedMessage(input.Split(" ").Select(i => long.Parse(i)).ToList(), 5);
            exploiter = new XMASExploiter(message);
        }


        [Test]
        public void TestExploit() {
            Assert.AreEqual(127L, exploiter.FindFirstNumberWhichIsNotSum());
        }

        [Test]
        public void TestFindEncryptionWeakness() {
            Assert.AreEqual(62L, exploiter.FindWeakness(127));
        }

    }
}
